<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
		<head>
			<!-- template designed by Marco Von Ballmoos -->
			<title>example</title>
			<link rel="stylesheet" href="../media/stylesheet.css" />
			<meta http-equiv='Content-Type' content='text/html; charset=iso-8859-1'/>
		</head>
		<body>
						<h1>example</h1>
<div class="listing">
<div class="src-code"><ol><li><div class="src-line"><span class="src-php">&lt;?php</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;create&nbsp;a&nbsp;new&nbsp;content&nbsp;type&nbsp;group</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;make&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;a&nbsp;ContentTypeGroupCreate&nbsp;class</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeGroupCreate&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodnewContentTypeGroupCreate">newContentTypeGroupCreate</a><span class="src-sym">(</span><span class="src-str">&quot;newgroup&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;create&nbsp;the&nbsp;group</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;5.x&nbsp;only&nbsp;-&nbsp;add&nbsp;human&nbsp;readable&nbsp;names&nbsp;and&nbsp;descriptions&nbsp;in&nbsp;multi&nbsp;languages</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeGroupCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;NameOfMyNewContentTypeGroup&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeGroupCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;NameMeinerContentTypeGruppe&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeGroupCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;this&nbsp;is&nbsp;the&nbsp;description&nbsp;of&nbsp;my&nbsp;new&nbsp;content&nbsp;type&nbsp;group&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeGroupCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;Das&nbsp;ist&nbsp;die&nbsp;Bescreibung&nbsp;meiner&nbsp;neuen&nbsp;Content&nbsp;Typ&nbsp;Gruppe&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeGroupCreate</span><span class="src-sym">-&gt;</span><span class="src-id">initialLanguageCode&nbsp;</span>=&nbsp;<span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;create&nbsp;the&nbsp;content&nbsp;type&nbsp;group&nbsp;in&nbsp;the&nbsp;repository</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeGroup&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodcreateContentTypeGroup">createContentTypeGroup</a><span class="src-sym">(</span><span class="src-var">$contentTypeGroupCreate</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;create&nbsp;a&nbsp;new&nbsp;content&nbsp;type</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;make&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;a&nbsp;ContentTypeCreate&nbsp;class</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate&nbsp;</span>=&nbsp;&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodnewContentTypeCreate">newContentTypeCreate</a><span class="src-sym">(</span><span class="src-str">&quot;newtype&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">remoteId&nbsp;</span>=&nbsp;<span class="src-str">&quot;myRemoteId-1234567890&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">defaultAlwaysAvailable&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;englishNameOfMyNewContentType&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;this&nbsp;is&nbsp;a&nbsp;description&nbsp;of&nbsp;my&nbsp;new&nbsp;content&nbsp;type&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;deutscherNameMeinesNeuenContentTypes&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;Das&nbsp;ist&nbsp;die&nbsp;Bescreibung&nbsp;meines&nbsp;neuen&nbsp;Content&nbsp;Typs&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isContainer&nbsp;</span>=&nbsp;<span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">nameSchema&nbsp;</span>=&nbsp;<span class="src-str">&quot;&lt;name&gt;&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">urlAliasSchema&nbsp;</span>=&nbsp;<span class="src-str">&quot;&lt;name&gt;&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><span class="src-id">initialLanguageId&nbsp;</span>=&nbsp;<span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;add&nbsp;field&nbsp;definitions</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;make&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;a&nbsp;FieldDefinitionCreate&nbsp;class</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodnewFieldDefinitionCreate">newFieldDefinitionCreate</a><span class="src-sym">(</span><span class="src-str">&quot;ezstring&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;name&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDefaultValue</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">new&nbsp;</span>\<span class="src-id">ezp</span>\<span class="src-id">Content</span>\<span class="src-id"><a href="../FieldTypeProviderInterface/FieldType.html">FieldType</a></span>\<span class="src-id">TextLine</span>\<span class="src-id">Value</span><span class="src-sym">(&nbsp;</span><span class="src-str">&quot;New&nbsp;Name&quot;&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;englishNameOfMyNewField&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;this&nbsp;is&nbsp;a&nbsp;description&nbsp;of&nbsp;my&nbsp;new&nbsp;field&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;deutscherNameMeinesNeuenFeldes&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;Das&nbsp;ist&nbsp;die&nbsp;Bescreibung&nbsp;meines&nbsp;neuen&nbsp;Feldes&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isRequired&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isSearchable&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">fieldGroup&nbsp;</span>=&nbsp;<span class="src-str">&quot;TestCategory&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isTranslatable&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">position&nbsp;</span>=&nbsp;<span class="src-num">1</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;add&nbsp;a&nbsp;string&nbsp;length&nbsp;validator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$strLenValidator&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id">StringLengthValidator</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$strLenValidator</span><span class="src-sym">-&gt;</span><span class="src-id">initializeWithConstraints</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'maxStringLength'&nbsp;</span>=&gt;&nbsp;<span class="src-num">20</span><span class="src-sym">,&nbsp;</span><span class="src-str">'minStringLength'&nbsp;</span>=&gt;&nbsp;<span class="src-num">4&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setValidator</span><span class="src-sym">(</span><span class="src-var">$strLenValidator</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodaddFieldDefinition">addFieldDefinition</a><span class="src-sym">(</span><span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;add&nbsp;second&nbsp;field&nbsp;definitions</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;make&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;a&nbsp;FieldDefinitionCreate&nbsp;class</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodnewFieldDefinitionCreate">newFieldDefinitionCreate</a><span class="src-sym">(</span><span class="src-str">&quot;ezinteger&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;number&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDefaultValue</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">new&nbsp;</span>\<span class="src-id">ezp</span>\<span class="src-id">Content</span>\<span class="src-id"><a href="../FieldTypeProviderInterface/FieldType.html">FieldType</a></span>\<span class="src-id">Integer</span>\<span class="src-id">Value</span><span class="src-sym">(&nbsp;</span><span class="src-num">2&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;englishNameOfMyNewField2&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;this&nbsp;is&nbsp;a&nbsp;description&nbsp;of&nbsp;my&nbsp;new&nbsp;field&nbsp;2&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;deutscherNameMeinesNeuenFeldes2&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;Das&nbsp;ist&nbsp;die&nbsp;Bescreibung&nbsp;meines&nbsp;zweiten&nbsp;neuen&nbsp;Feldes&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isRequired&nbsp;</span>=&nbsp;<span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isSearchable&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">fieldGroup&nbsp;</span>=&nbsp;<span class="src-str">&quot;TestCategory&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isTranslatable&nbsp;</span>=&nbsp;<span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">position&nbsp;</span>=&nbsp;<span class="src-num">2</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;add&nbsp;a&nbsp;int&nbsp;range&nbsp;validator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$intValidator&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id">IntegerValueValidator</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$intValidator</span><span class="src-sym">-&gt;</span><span class="src-id">initializeWithConstraints</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'maxIntegerValue'&nbsp;</span>=&gt;&nbsp;<span class="src-num">20</span><span class="src-sym">,&nbsp;</span><span class="src-str">'minIntegerValue'&nbsp;</span>=&gt;&nbsp;<span class="src-num">0&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setValidator</span><span class="src-sym">(</span><span class="src-var">$intValidator</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeCreate</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodaddFieldDefinition">addFieldDefinition</a><span class="src-sym">(</span><span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;creates&nbsp;the&nbsp;content&nbsp;type&nbsp;in&nbsp;the&nbsp;given&nbsp;group&nbsp;and&nbsp;fields&nbsp;and&nbsp;publishes&nbsp;it</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeDraft&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodcreateContentType">createContentType</a><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-var">$contentType</span><span class="src-sym">,&nbsp;</span><span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-var">$contentTypeGroup&nbsp;</span><span class="src-sym">))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodpublishContentTypeDraft">publishContentTypeDraft</a><span class="src-sym">(</span><span class="src-var">$contentTypeDraft</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;update&nbsp;a&nbsp;content&nbsp;tyoe</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;create&nbsp;a&nbsp;new&nbsp;draft</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeDraft&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodcreateContentTypeDraft">createContentTypeDraft</a><span class="src-sym">(</span><span class="src-var">$contentType</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeUpdate&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodnewContentTypeUpdate">newContentTypeUpdate</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeUpdate</span><span class="src-sym">-&gt;</span><span class="src-id">isContainer&nbsp;</span>=&nbsp;<span class="src-id">true</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><span class="src-id">update</span><span class="src-sym">(</span><span class="src-var">$contentTypeDraft</span><span class="src-sym">,</span><span class="src-var">$contentTypeUpdate</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;after&nbsp;this&nbsp;call&nbsp;the&nbsp;content&nbsp;type&nbsp;has&nbsp;still&nbsp;status&nbsp;draft</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;add&nbsp;a&nbsp;third&nbsp;fielddefinition</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodnewFieldDefinitionCreate">newFieldDefinitionCreate</a><span class="src-sym">(</span><span class="src-str">&quot;ezboolean&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;checkbox&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;englishNameOfMyNewField3&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;this&nbsp;is&nbsp;a&nbsp;description&nbsp;of&nbsp;my&nbsp;new&nbsp;field&nbsp;3&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;eng-US&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setName</span><span class="src-sym">(</span><span class="src-str">&quot;deutscherNameMeinesNeuenFeldes3&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">setDescription</span><span class="src-sym">(</span><span class="src-str">&quot;Das&nbsp;ist&nbsp;die&nbsp;Bescreibung&nbsp;meines&nbsp;dritten&nbsp;neuen&nbsp;Feldes&quot;</span><span class="src-sym">,</span><span class="src-str">&quot;ger-DE&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isRequired&nbsp;</span>=&nbsp;<span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isSearchable&nbsp;</span>=&nbsp;<span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">fieldGroup&nbsp;</span>=&nbsp;<span class="src-str">&quot;TestCategory&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">isTranslatable&nbsp;</span>=&nbsp;<span class="src-id">false</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">-&gt;</span><span class="src-id">position&nbsp;</span>=&nbsp;<span class="src-num">3</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;add&nbsp;the&nbsp;new&nbsp;field&nbsp;definition</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodaddFieldDefinition">addFieldDefinition</a><span class="src-sym">(</span><span class="src-var">$contentTypeDraft</span><span class="src-sym">,</span><span class="src-var">$fieldDefinitionCreate</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;after&nbsp;this&nbsp;call&nbsp;the&nbsp;content&nbsp;type&nbsp;has&nbsp;still&nbsp;status&nbsp;draft</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;update&nbsp;an&nbsp;existing&nbsp;field</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinition&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeDraft</span><span class="src-sym">-&gt;</span><span class="src-id">getFieldDefinition</span><span class="src-sym">(</span><span class="src-str">&quot;number&quot;</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionUpdate&nbsp;</span>=&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodnewFieldDefinitionUpdate">newFieldDefinitionUpdate</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionUpdate</span><span class="src-sym">-&gt;</span><span class="src-id">identifier&nbsp;</span>=&nbsp;<span class="src-str">&quot;newIdentifier&quot;</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;replace&nbsp;the&nbsp;integer&nbsp;validator&nbsp;with&nbsp;new&nbsp;contraints</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$intValidator&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><span class="src-id">IntegerValueValidator</span><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$intValidator</span><span class="src-sym">-&gt;</span><span class="src-id">initializeWithConstraints</span><span class="src-sym">(</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src-key">array</span><span class="src-sym">(&nbsp;</span><span class="src-str">'maxIntegerValue'&nbsp;</span>=&gt;&nbsp;<span class="src-num">100</span><span class="src-sym">,&nbsp;</span><span class="src-str">'minIntegerValue'&nbsp;</span>=&gt;&nbsp;<span class="src-num">0&nbsp;</span><span class="src-sym">)</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$fieldDefinitionUpdate</span><span class="src-sym">-&gt;</span><span class="src-id">setValidator</span><span class="src-sym">(</span><span class="src-var">$intValidator</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodupdateFieldDefinition">updateFieldDefinition</a><span class="src-sym">(</span><span class="src-var">$contentType</span><span class="src-sym">,</span><span class="src-var">$fieldDefinitionUpdate</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;</div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-comm">//&nbsp;now&nbsp;publish&nbsp;the&nbsp;made&nbsp;changes</span></div></li>
<li><div class="src-line">&nbsp;&nbsp;&nbsp;<span class="src-var">$contentTypeService</span><span class="src-sym">-&gt;</span><a href="../ezp-PublicAPI-Interfaces/ContentTypeService.html#methodpublishContentTypeDraft">publishContentTypeDraft</a><span class="src-sym">(</span><span class="src-var">$contentType</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></div>
</div>
	<p class="notes" id="credit">
		Documentation generated on Wed, 11 Jan 2012 17:11:22 +0100 by <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 1.4.4</a>
	</p>
	</body>
</html>